.PHONY : all clean fclean re clear mandatory bonus norminette main bmain

NAME	=	../libftprintf.a

# â•­â”â”â”â”â”â”â”â”â”â”â”â”â•â•â•â•â•â•â•â•â•â•â••å‡º â– BASICS VARIABLES â– åŠ›â•’â•â•â•â•â•â•â•â•â•â•â•â”â”â”â”â”â”â”â”â”â”â”â”â•® #

CC				:=	cc

CFLAGS			:=	-Wall -Wextra -Werror

RM				:=	rm -rf

MAKEFLAGS		+=	--no-print-directory

INCS			:=	HEADERS := $(shell find .. -name "*.h")

MF				:=	$(wildcard src/*akefile.c)

# â•°â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•›å‡º â– åŠ›â•˜â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â•¯ #

# â•­â”â”â”â”â”â”â”â”â”â”â”â”â•â•â•â•â•â•â•â•â•â•â••å‡º â– RULES â– åŠ›â•’â•â•â•â•â•â•â•â•â•â•â•â”â”â”â”â”â”â”â”â”â”â”â”â•® #

all : usage

main_compile:
	@$(MAKE) -C .. all

bonus_compile:
	@$(MAKE) -C .. bonus

usage:
	@echo "\e[1;32mğŸƒ Rules: ğŸƒ\n   - 'main': test your program on the mandatory part\n   - 'bonus': test your program on the bonus part\e[0m"

rm:
	@$(RM) tester

main:
ifeq ($(MF),)
	@echo "\e[1;31mğŸ - Error: No makefile found in the previous directory - ğŸ\e[0m"
	@exit
else
	@$(MAKE) rm
	@$(MAKE) main_compile
	@$(CC) -w mandatory.c $(NAME) -o tester
	@./tester
endif
	
bonus:
ifeq ($(MF),)
	@echo "\e[1;31mğŸ - Error: No makefile found in the previous directory - ğŸ\e[0m"
	@exit
else
	@$(MAKE) rm
	@$(MAKE) bonus_compile
	@$(CC) -w bonus.c $(NAME) -o tester
	@./tester
endif